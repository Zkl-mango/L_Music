<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd//mybatis-3-mapper.dtd">
<mapper namespace="com.zkl.l_music.dao.SingerDao">

    <resultMap id="singerMap" type="SingerEntity" >
        <id column="id" property="id"/>
        <result column="singer" property="singer" />
        <result column="english_name" property="englishName" />
        <result column="nationality" property="nationality" />
        <result column="sex" property="sex" />
        <result column="picture" property="picture" />
        <result column="fans" property="fans" />
        <result column="songs" property="songs" />
        <result column="albums" property="albums" />
        <result column="category" property="category" />
    </resultMap>

    <resultMap id="singerListMap" type="com.zkl.l_music.vo.SingerListVo" >
        <id column="id" property="id"/>
        <result column="singer" property="singer" />
        <result column="picture" property="picture" />
    </resultMap>

    <select id="selectSingerList" resultMap="singerListMap">
        SELECT id,singer,picture FROM singer WHERE 1=1
        <if test="sex!=null">AND sex = #{sex}</if>
        ORDER BY fans DESC,singer;
    </select>

    <select id="selectSingerByCat" resultMap="singerMap">
        SELECT id,singer,english_name,nationality,sex,picture,fans,songs,albums,category
        FROM singer WHERE 1=1
        <if test="category!=0">AND category = #{category}</if>
    </select>

</mapper>